---Thread-Announcement------------------------------------------

Thread #1 is the program's root thread

---Thread-Announcement------------------------------------------

Thread #2 was created
   at 0x499D9F3: clone (clone.S:76)
   by 0x499E8EE: __clone_internal (clone-internal.c:83)
   by 0x490C6D8: create_thread (pthread_create.c:295)
   by 0x490D1FF: pthread_create@@GLIBC_2.34 (pthread_create.c:828)
   by 0x4853767: ??? (in /usr/libexec/valgrind/vgpreload_helgrind-amd64-linux.so)
   by 0x4018D6: init_philos (main.c:166)
   by 0x401BE5: main (main.c:268)

----------------------------------------------------------------

Possible data race during write of size 4 at 0x4AA40B8 by thread #1
Locks held: none
   at 0x401B06: monitor (main.c:249)
   by 0x401C19: main (main.c:271)

This conflicts with a previous read of size 4 by thread #2
Locks held: none
   at 0x4016C7: routine (main.c:134)
   by 0x485396A: ??? (in /usr/libexec/valgrind/vgpreload_helgrind-amd64-linux.so)
   by 0x490CAC2: start_thread (pthread_create.c:442)
   by 0x499DA03: clone (clone.S:100)
 Address 0x4aa40b8 is 120 bytes inside a block of size 128 alloc'd
   at 0x484A919: malloc (in /usr/libexec/valgrind/vgpreload_helgrind-amd64-linux.so)
   by 0x401B99: main (main.c:265)
 Block was alloc'd by thread #1


---Thread-Announcement------------------------------------------

Thread #3 was created
   at 0x499D9F3: clone (clone.S:76)
   by 0x499E8EE: __clone_internal (clone-internal.c:83)
   by 0x490C6D8: create_thread (pthread_create.c:295)
   by 0x490D1FF: pthread_create@@GLIBC_2.34 (pthread_create.c:828)
   by 0x4853767: ??? (in /usr/libexec/valgrind/vgpreload_helgrind-amd64-linux.so)
   by 0x4018D6: init_philos (main.c:166)
   by 0x401BE5: main (main.c:268)

----------------------------------------------------------------

Possible data race during read of size 4 at 0x4AA40B8 by thread #3
Locks held: none
   at 0x401347: print_timestamp_ms (main.c:54)
   by 0x4015CE: ft_sleep (main.c:108)
   by 0x401700: routine (main.c:139)
   by 0x485396A: ??? (in /usr/libexec/valgrind/vgpreload_helgrind-amd64-linux.so)
   by 0x490CAC2: start_thread (pthread_create.c:442)
   by 0x499DA03: clone (clone.S:100)

This conflicts with a previous write of size 4 by thread #1
Locks held: none
   at 0x401B06: monitor (main.c:249)
   by 0x401C19: main (main.c:271)
 Address 0x4aa40b8 is 120 bytes inside a block of size 128 alloc'd
   at 0x484A919: malloc (in /usr/libexec/valgrind/vgpreload_helgrind-amd64-linux.so)
   by 0x401B99: main (main.c:265)
 Block was alloc'd by thread #1

----------------------------------------------------------------

Possible data race during read of size 4 at 0x4AA40B8 by thread #4
Locks held: none
   at 0x401347: print_timestamp_ms (main.c:54)
   by 0x40165E: think (main.c:122)
   by 0x40170D: routine (main.c:140)
   by 0x485396A: ??? (in /usr/libexec/valgrind/vgpreload_helgrind-amd64-linux.so)
   by 0x490CAC2: start_thread (pthread_create.c:442)
   by 0x499DA03: clone (clone.S:100)

This conflicts with a previous write of size 4 by thread #1
Locks held: none
   at 0x401B06: monitor (main.c:249)
   by 0x401C19: main (main.c:271)
 Address 0x4aa40b8 is 120 bytes inside a block of size 128 alloc'd
   at 0x484A919: malloc (in /usr/libexec/valgrind/vgpreload_helgrind-amd64-linux.so)
   by 0x401B99: main (main.c:265)
 Block was alloc'd by thread #1

----------------------------------------------------------------

 Lock at 0x4AA4110 was first observed
   at 0x4854BFE: pthread_mutex_init (in /usr/libexec/valgrind/vgpreload_helgrind-amd64-linux.so)
   by 0x401857: init_philos (main.c:162)
   by 0x401BE5: main (main.c:268)
 Address 0x4aa4110 is 16 bytes inside a block of size 240 alloc'd
   at 0x484A919: malloc (in /usr/libexec/valgrind/vgpreload_helgrind-amd64-linux.so)
   by 0x40173C: init_philos (main.c:150)
   by 0x401BE5: main (main.c:268)
 Block was alloc'd by thread #1

Possible data race during read of size 4 at 0x4AA40B8 by thread #2
Locks held: 1, at address 0x4AA4110
   at 0x401347: print_timestamp_ms (main.c:54)
   by 0x401424: take_forks (main.c:68)
   by 0x4016DD: routine (main.c:136)
   by 0x485396A: ??? (in /usr/libexec/valgrind/vgpreload_helgrind-amd64-linux.so)
   by 0x490CAC2: start_thread (pthread_create.c:442)
   by 0x499DA03: clone (clone.S:100)

This conflicts with a previous write of size 4 by thread #1
Locks held: none
   at 0x401B06: monitor (main.c:249)
   by 0x401C19: main (main.c:271)
 Address 0x4aa40b8 is 120 bytes inside a block of size 128 alloc'd
   at 0x484A919: malloc (in /usr/libexec/valgrind/vgpreload_helgrind-amd64-linux.so)
   by 0x401B99: main (main.c:265)
 Block was alloc'd by thread #1

----------------------------------------------------------------

 Lock at 0x4AA4110 was first observed
   at 0x4854BFE: pthread_mutex_init (in /usr/libexec/valgrind/vgpreload_helgrind-amd64-linux.so)
   by 0x401857: init_philos (main.c:162)
   by 0x401BE5: main (main.c:268)
 Address 0x4aa4110 is 16 bytes inside a block of size 240 alloc'd
   at 0x484A919: malloc (in /usr/libexec/valgrind/vgpreload_helgrind-amd64-linux.so)
   by 0x40173C: init_philos (main.c:150)
   by 0x401BE5: main (main.c:268)
 Block was alloc'd by thread #1

 Lock at 0x4AA41B0 was first observed
   at 0x4850CCF: ??? (in /usr/libexec/valgrind/vgpreload_helgrind-amd64-linux.so)
   by 0x40144D: take_forks (main.c:70)
   by 0x4016DD: routine (main.c:136)
   by 0x485396A: ??? (in /usr/libexec/valgrind/vgpreload_helgrind-amd64-linux.so)
   by 0x490CAC2: start_thread (pthread_create.c:442)
   by 0x499DA03: clone (clone.S:100)
 Address 0x4aa41b0 is 176 bytes inside a block of size 240 alloc'd
   at 0x484A919: malloc (in /usr/libexec/valgrind/vgpreload_helgrind-amd64-linux.so)
   by 0x40173C: init_philos (main.c:150)
   by 0x401BE5: main (main.c:268)
 Block was alloc'd by thread #1

Possible data race during read of size 4 at 0x4AA40B8 by thread #2
Locks held: 2, at addresses 0x4AA4110 0x4AA41B0
   at 0x401347: print_timestamp_ms (main.c:54)
   by 0x401479: take_forks (main.c:73)
   by 0x4016DD: routine (main.c:136)
   by 0x485396A: ??? (in /usr/libexec/valgrind/vgpreload_helgrind-amd64-linux.so)
   by 0x490CAC2: start_thread (pthread_create.c:442)
   by 0x499DA03: clone (clone.S:100)

This conflicts with a previous write of size 4 by thread #1
Locks held: none
   at 0x401B06: monitor (main.c:249)
   by 0x401C19: main (main.c:271)
 Address 0x4aa40b8 is 120 bytes inside a block of size 128 alloc'd
   at 0x484A919: malloc (in /usr/libexec/valgrind/vgpreload_helgrind-amd64-linux.so)
   by 0x401B99: main (main.c:265)
 Block was alloc'd by thread #1

----------------------------------------------------------------

Possible data race during read of size 4 at 0x4AA40B8 by thread #2
Locks held: none
   at 0x4016C7: routine (main.c:134)
   by 0x485396A: ??? (in /usr/libexec/valgrind/vgpreload_helgrind-amd64-linux.so)
   by 0x490CAC2: start_thread (pthread_create.c:442)
   by 0x499DA03: clone (clone.S:100)

This conflicts with a previous write of size 4 by thread #1
Locks held: none
   at 0x401B06: monitor (main.c:249)
   by 0x401C19: main (main.c:271)
 Address 0x4aa40b8 is 120 bytes inside a block of size 128 alloc'd
   at 0x484A919: malloc (in /usr/libexec/valgrind/vgpreload_helgrind-amd64-linux.so)
   by 0x401B99: main (main.c:265)
 Block was alloc'd by thread #1

----------------------------------------------------------------

Thread #1's call to pthread_mutex_destroy failed
   with error code 16 (EBUSY: Device or resource busy)
   at 0x4850B43: ??? (in /usr/libexec/valgrind/vgpreload_helgrind-amd64-linux.so)
   by 0x401263: free_resources (main.c:25)
   by 0x401B32: monitor (main.c:251)
   by 0x401C19: main (main.c:271)


Use --history-level=approx or =none to gain increased speed, at
the cost of reduced accuracy of conflicting-access information
For lists of detected and suppressed errors, rerun with: -s
ERROR SUMMARY: 12 errors from 9 contexts (suppressed: 369 from 111)

